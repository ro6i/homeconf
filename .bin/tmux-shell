#!/usr/local/bin/bash

case $1 in

  new-session)
    name="$2"
    name_padded=$(printf '%-10s ' "$name" | tr '[:lower:]' '[:upper:]')

    if [[ ! -z "$name" ]]
    then
      tmux new -s "${name_padded}" -d
      tmux switch -t "${name_padded}"
    fi
    ;;

  find-session)
    part_of_name=$(echo "$2" | tr '[:lower:]' '[:upper:]')

    if [[ ! -z "$part_of_name" ]]
    then
      tmux ls -F '#{session_name}' | tr '[:lower:]' '[:upper:]' | grep "$part_of_name" | head -n 1 | xargs tmux switch -t
    fi
    ;;

  rename-window-to-current-dir)
    echo "$2" | tr '[:lower:]' '[:upper:]' | xargs tmux rename-window
    ;;

esac
